<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-DevOps/docker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Fundamentals of Docker | CyberSec Space</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://edu.recondb.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://edu.recondb.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://edu.recondb.org/docs/DevOps/docker"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fundamentals of Docker | CyberSec Space"><meta data-rh="true" name="description" content="Docker is a PaaS product that uses OS level virtualization to deliver"><meta data-rh="true" property="og:description" content="Docker is a PaaS product that uses OS level virtualization to deliver"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://edu.recondb.org/docs/DevOps/docker"><link data-rh="true" rel="alternate" href="https://edu.recondb.org/docs/DevOps/docker" hreflang="en"><link data-rh="true" rel="alternate" href="https://edu.recondb.org/docs/DevOps/docker" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Cloud & DevOps","item":"https://edu.recondb.org/docs/category/cloud--devops"},{"@type":"ListItem","position":2,"name":"Fundamentals of Docker","item":"https://edu.recondb.org/docs/DevOps/docker"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CyberSec Space RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CyberSec Space Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TTBS5KSG",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="alternate" type="application/rss+xml" href="/projects/rss.xml" title="Projects Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/projects/atom.xml" title="Projects Feed Atom Feed">
<link rel="alternate" type="application/json" href="/projects/feed.json" title="Projects Feed JSON Feed"><link rel="stylesheet" href="/assets/css/styles.21e975aa.css">
<script src="/assets/js/runtime~main.00cf64ef.js" defer="defer"></script>
<script src="/assets/js/main.61fbe1d5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TTBS5KSG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="cybersec space" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="cybersec space" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blogs</a><a class="navbar__item navbar__link" href="/projects">Projects</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro"><span title="IT Docs" class="linkLabel_WmDU">IT Docs</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/programming--systems"><span title="Programming &amp; systems" class="categoryLinkLabel_W154">Programming &amp; systems</span></a><button aria-label="Expand sidebar category &#x27;Programming &amp; systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/cybersecurity"><span title="Cybersecurity" class="categoryLinkLabel_W154">Cybersecurity</span></a><button aria-label="Expand sidebar category &#x27;Cybersecurity&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/cloud--devops"><span title="Cloud &amp; DevOps" class="categoryLinkLabel_W154">Cloud &amp; DevOps</span></a><button aria-label="Collapse sidebar category &#x27;Cloud &amp; DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/DevOps/docker"><span title="Fundamentals of Docker" class="linkLabel_WmDU">Fundamentals of Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/DevOps/devops-intro"><span title="Cloud &amp; DevOps — Overview" class="linkLabel_WmDU">Cloud &amp; DevOps — Overview</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/blockchain"><span title="Blockchain" class="categoryLinkLabel_W154">Blockchain</span></a><button aria-label="Expand sidebar category &#x27;Blockchain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/web--apis"><span title="Web &amp; APIs" class="categoryLinkLabel_W154">Web &amp; APIs</span></a><button aria-label="Expand sidebar category &#x27;Web &amp; APIs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/networking--infra"><span title="Networking &amp; Infra" class="categoryLinkLabel_W154">Networking &amp; Infra</span></a><button aria-label="Expand sidebar category &#x27;Networking &amp; Infra&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/hardware--low-level"><span title="Hardware &amp; Low level" class="categoryLinkLabel_W154">Hardware &amp; Low level</span></a><button aria-label="Expand sidebar category &#x27;Hardware &amp; Low level&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/mathematics"><span title="Mathematics" class="categoryLinkLabel_W154">Mathematics</span></a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/ai-and-agentic-systems"><span title="AI and Agentic Systems" class="categoryLinkLabel_W154">AI and Agentic Systems</span></a><button aria-label="Expand sidebar category &#x27;AI and Agentic Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/cloud--devops"><span>Cloud &amp; DevOps</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Fundamentals of Docker</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Fundamentals of Docker</h1></header>
<p>Docker is a PaaS product that uses OS level virtualization to deliver
software in packages called containers.
It is also a social platform for us to find and share the containers which are different from virtual machines.</p>
<ul>
<li class=""><a href="#section-1" class="">Docker and Container?</a></li>
<li class=""><a href="#section-2" class="">Using Docker</a></li>
<li class=""><a href="#section-3" class="">Building Docker Images</a></li>
<li class=""><a href="#section-4" class="">Under the hood</a></li>
<li class=""><a href="#section-5" class="">Orchestration: Building Systems with Docker</a></li>
<li class=""><a href="#section-6" class="">What&#x27;s next?</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-what-is-docker">1. What is Docker?<a href="#1-what-is-docker" class="hash-link" aria-label="Direct link to 1. What is Docker?" title="Direct link to 1. What is Docker?" translate="no">​</a></h2>
<ul>
<li class="">A client program name Docker.</li>
<li class="">A server program that manages a linux system.</li>
<li class="">A program that builds containers from code.</li>
<li class="">A service that distributes containers.</li>
<li class="">A company that does all of above.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-a-container">What is a Container?<a href="#what-is-a-container" class="hash-link" aria-label="Direct link to What is a Container?" title="Direct link to What is a Container?" translate="no">​</a></h4>
<p>A container is a self-contained sealed unit of software. It contains codes, configs, processess, networking, dependencies and operating system.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="confirm-docker-installation">Confirm Docker installation<a href="#confirm-docker-installation" class="hash-link" aria-label="Direct link to Confirm Docker installation" title="Direct link to Confirm Docker installation" translate="no">​</a></h4>
<pre><p>$ docker
$ docker info</p></pre>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-using-docker">2. Using Docker<a href="#2-using-docker" class="hash-link" aria-label="Direct link to 2. Using Docker" title="Direct link to 2. Using Docker" translate="no">​</a></h2>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-flow--images-to-containers">Docker Flow : Images to containers<a href="#docker-flow--images-to-containers" class="hash-link" aria-label="Direct link to Docker Flow : Images to containers" title="Direct link to Docker Flow : Images to containers" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images                               // list all the </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-ti</span><span class="token plain"> ubuntu:latest </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain">           // takes image and creates a running container containing ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># cat /etc/lsb-release</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># exit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$FORMAT</span><span class="token plain">                  // list running </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> vertical </span><span class="token function" style="color:#d73a49">format</span><br></span></code></pre></div></div>
<ul>
<li class="">Images are the fixed points.</li>
<li class=""><em>docker run</em> creates a running container. When we exit the container, it&#x27;s still there in the stopped containers.</li>
<li class="">to see all the containers : $ docker ps -a</li>
<li class="">to see the last stopped container : $ docker ps -l --format=$FORMAT</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-flow--containers-to-images">Docker Flow : Containers to Images<a href="#docker-flow--containers-to-images" class="hash-link" aria-label="Direct link to Docker Flow : Containers to Images" title="Direct link to Docker Flow : Containers to Images" translate="no">​</a></h4>
<p>Container ID and Image ID are different.</p>
<pre><p>$ docker run -ti ubuntu bash                       // creates a new running container containing latest ubuntu
$ touch Hello-World-File                          // create a new file in container
$ exit                                            // exit the container
$ docker ps -l --format=$FORMAT                   // look most recently exited container
$ docker commit [container ID]                    // makes the image out of the container id and prints image ID
$ docker tag [ImageID] [image-name-1]                 // creates repository (image) name tag
$ docker images                                   // list all the docker images
$ docker run -ti [image-name] bash                // runs the image and confirm the file we created earlier
$ docker commit [Container NAMES] [image-name-2]  // creates image name from container name escaping tag
$ docker images</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="run-processes-in-containers">Run processes in containers<a href="#run-processes-in-containers" class="hash-link" aria-label="Direct link to Run processes in containers" title="Direct link to Run processes in containers" translate="no">​</a></h4>
<pre><p>$ docker run --rm  -ti ubuntu sleep 5      // starts a container, sleeps for 5, exits and gets deleted
$ docker run -ti ubuntu bash -c &quot;sleep 3; echo all done&quot;     // first starts container process and sleeps for 3 seconds and then echoes</p><p>$ docker run -d -ti ubuntu bash     // starts docker as detached
$ docker attach [container NAMES]   // takes back to the specified container
$ docker ps                        // list docker processes</p></pre>
<p>Also we can detach from running container using : Ctrl-p Ctrl-q</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-more-things-in-container">Running more things in container<a href="#running-more-things-in-container" class="hash-link" aria-label="Direct link to Running more things in container" title="Direct link to Running more things in container" translate="no">​</a></h5>
<pre><p>$ docker exec -ti [container NAMES] bash                  // starts  process called bash in an existing container</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="manage-containers">Manage Containers<a href="#manage-containers" class="hash-link" aria-label="Direct link to Manage Containers" title="Direct link to Manage Containers" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="logs">Logs<a href="#logs" class="hash-link" aria-label="Direct link to Logs" title="Direct link to Logs" translate="no">​</a></h4>
<pre><p>$ docker run --name example -d ubuntu bash -c &quot;lose /etc/password&quot;   // creates &quot;example&quot; container and tries to execute command
$ docker logs example                                                //prints the logs of example container</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stopping-and-removing-containers">Stopping and Removing Containers<a href="#stopping-and-removing-containers" class="hash-link" aria-label="Direct link to Stopping and Removing Containers" title="Direct link to Stopping and Removing Containers" translate="no">​</a></h3>
<pre><p>$ docker kill [container_name]        // kills container to make them stopped
$ docker rm [container_name]          // explicity removes stopped container</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="resource-constraints">Resource Constraints<a href="#resource-constraints" class="hash-link" aria-label="Direct link to Resource Constraints" title="Direct link to Resource Constraints" translate="no">​</a></h3>
<pre><p>$ docker run --memory maximum-allowed-memory image-name command  // sets memory limit</p><p>$ docker run --cpu-shares           // CPU limits related to other containers
$ docker run --cpu-quota          //  CPU limit in general</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="note">Note<a href="#note" class="hash-link" aria-label="Direct link to Note" title="Direct link to Note" translate="no">​</a></h3>
<ol>
<li class="">Don&#x27;t let containers fetch dependencies when they start.</li>
<li class="">Don&#x27;t leave important things in unnamed stopped containers.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="container-networking">Container Networking<a href="#container-networking" class="hash-link" aria-label="Direct link to Container Networking" title="Direct link to Container Networking" translate="no">​</a></h3>
<ul>
<li class="">Programs is containers are isolated from the internet by default.</li>
<li class="">Containers can be grouped into &quot;private&quot; networks.</li>
<li class="">Who can connect to whom can be explicitly choosen.</li>
<li class="">Expose ports to let connections in</li>
<li class="">Private networks to connect between containers.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="exposing-a-specific-port">Exposing a Specific Port<a href="#exposing-a-specific-port" class="hash-link" aria-label="Direct link to Exposing a Specific Port" title="Direct link to Exposing a Specific Port" translate="no">​</a></h4>
<ul>
<li class="">Explicitly specifies the port inside the container and outside</li>
</ul>
<pre><p>$ docker run --rm -ti -p 45678:45678 -p 45679:45679 --name echo-server ubuntu:14.01 bash      // publish the internal and external ports
root@98daf45435:/# nc -lp 45678 | nc -lp 45679   // netcat is a network degugging program / sends bits from 45678 port 45679 port</p><p>$ docker run --rm -ti ubuntu:14:14.04 bash   // start docker in a separate terminal
root@574daad335:/# nc host.docker.internal 45678                  // start the host server</p><p>$ docker run --rm -ti ubuntu:14.04 bash     // start container in separate terminal
root@72345afda:/# nc host.docker.internal 45679     start the server</p><p>// After the host containers are running, test the network with text.</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="exposing-ports-dynamically">Exposing Ports Dynamically<a href="#exposing-ports-dynamically" class="hash-link" aria-label="Direct link to Exposing Ports Dynamically" title="Direct link to Exposing Ports Dynamically" translate="no">​</a></h4>
<ul>
<li class="">The port inside the container is fixed</li>
<li class="">The port on the host is chosen form the unused ports.</li>
<li class="">This allows many container running programs with fixed ports</li>
<li class="">This is often used with discovery service program</li>
</ul>
<pre><p>$ docker run --rm -ti -p 45678 -p 45679 --name echo-server ubuntu:14.04 bash                    // only sepecified the interanal port of the container
root@237562daf34:/# nc -lp 45678 | nc -lp 45679</p><p>// on a separate terminal
$ docker port echo-server        // lists the external port of the container</p></pre>
<pre><p>$ docker run -p outside-port<!-- -->:inside-port<!-- -->/protocol (tcp/udp)
$ docker run -p 1234:1234/udp</p><p>$ docker run --rm -ti p 45678/udp --name echo-server ubuntu:14.04 bash
root@45sf542d:/# nc -ulp 45678</p><p>$ docker port echo-server            // list the ports associated
$ nc -u localhost [port number]
hello world!</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="connecting-between-containers">Connecting between Containers<a href="#connecting-between-containers" class="hash-link" aria-label="Direct link to Connecting between Containers" title="Direct link to Connecting between Containers" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="connecting-directly-between-containers">Connecting directly between containers<a href="#connecting-directly-between-containers" class="hash-link" aria-label="Direct link to Connecting directly between containers" title="Direct link to Connecting directly between containers" translate="no">​</a></h5>
<pre><p>$ docker network ls            // lists default networks</p><p>$ docker network create learning    // creates a network nacmed learning</p><p>$ docker run --rm -ti --net learning --name appleserver ubuntu:14.04 bash  // starts the catserver on the learning network
root@542dfa345:/# ping appleserver</p><p>$ docker run --rm -ti --net learning --name bananaserver ubuntu:14.04 bash
root@5869daf45:/# ping bananaserver
root@5869daf45:/# ping appleserver
root@5869daf45:/# nc -lp 1234            // start host server at 1234, there will be communication between the apple and banana server</p><p>$ docker network create applesonly    // creates &quot;applesonly&quot; network
$ docker network connect  applesonly appleserver   // connects appleserver to applesonly network</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="legacy-linking">Legacy linking<a href="#legacy-linking" class="hash-link" aria-label="Direct link to Legacy linking" title="Direct link to Legacy linking" translate="no">​</a></h4>
<ul>
<li class="">links all port, through only one way</li>
<li class="">secret env. variables are shared only one way</li>
<li class="">depends on startup order</li>
<li class="">restarts only sometimes breaks the links</li>
</ul>
<pre><p>$ docker run --rm -ti -e SECRET=theinternetlovescat --name catserver ubuntu:14.04 bash
root@544dfa5jjk4:/# nc -lp 1234</p><p>$ docker run --rm -ti --link catserver --name dogserver ubuntu:14.04 bash
root@dafdaf45jkdf:/# nc catserver 1234</p><p>// &gt;&gt; there will be communication to and from cat and dog server, however
// &gt;&gt; if we start the nc on dogserver , we cannot communicate
// &gt;&gt; because dogserver copies envvaribales from catserver but cat server doesn&#x27;t</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="listing-images">Listing Images<a href="#listing-images" class="hash-link" aria-label="Direct link to Listing Images" title="Direct link to Listing Images" translate="no">​</a></h4>
<p>Name Structure of images:</p>
<pre><p>$ docker images                                 // list images
$ docker commit [container id] [image name]        // tags the container
$ docker commit [container id] [image name]<!-- -->:v2<!-- -->.1   // creates different version</p><p>// &gt;&gt;  tagging name structure : registry.example.com<!-- -->:port<!-- -->/organization/image-name<!-- -->:version-tag</p><p>$ docker pull              // pulls docker images
$ docker run              // automatically runs  docker pull
$ docker push             // opposite of docker pull</p><p>$ docker rmi image-name<!-- -->:tag<!-- -->
$ docker rmi image-name</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="volumes">Volumes<a href="#volumes" class="hash-link" aria-label="Direct link to Volumes" title="Direct link to Volumes" translate="no">​</a></h4>
<ul>
<li class="">Virtual &quot;discs&quot; to store and share data</li>
<li class="">Two main varieties : Persistent &amp; Ephemeral</li>
<li class="">Not part of images</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="sharing-data-with-the-host">Sharing data with the host<a href="#sharing-data-with-the-host" class="hash-link" aria-label="Direct link to Sharing data with the host" title="Direct link to Sharing data with the host" translate="no">​</a></h5>
<ul>
<li class="">&quot;Shared folders&quot; with the host</li>
<li class="">Sharing a &quot;single file&quot; into a container</li>
</ul>
<pre><p>$ mkdir example
$ docker run -ti -v /patht/to/example/folder:/shared-folder ubuntu bash
root@45fd35fad:/# ls /shared-folder/
root@45fd35fad:/# touch /shared-folder/my-data
root@45fd35fad:/# exit
$ ls exmaple/                          // my-data file will persit even after the conainer exited</p><p>$ docker run -ti -v /shared-data ubuntu bash
root@fdsa45235:/# echo hello &gt; /shared-data/data-file</p><p>$ docker run -ti --volumes-from [containername] ubuntu bash
root@fdgjlkj4545:/#ls /shared-data/data-file</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-registries">Docker Registries<a href="#docker-registries" class="hash-link" aria-label="Direct link to Docker Registries" title="Direct link to Docker Registries" translate="no">​</a></h4>
<ul>
<li class="">software that manages and distribute images</li>
<li class="">Docker(the company) offers for free</li>
</ul>
<pre><p>$ docker search ubuntu</p></pre>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-building-docker-images">3. Building Docker Images<a href="#3-building-docker-images" class="hash-link" aria-label="Direct link to 3. Building Docker Images" title="Direct link to 3. Building Docker Images" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-dockerfile">What is DockerFile?<a href="#what-is-dockerfile" class="hash-link" aria-label="Direct link to What is DockerFile?" title="Direct link to What is DockerFile?" translate="no">​</a></h3>
<ul>
<li class="">a small &quot;program&quot; to create an image</li>
<li class="">it can be run with</li>
</ul>
<pre>docker build -t name-of-result . </pre>
<ul>
<li class="">the result will be in local docker register.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="producing-next-image-with-each-step">Producing next image with each step<a href="#producing-next-image-with-each-step" class="hash-link" aria-label="Direct link to Producing next image with each step" title="Direct link to Producing next image with each step" translate="no">​</a></h4>
<ul>
<li class="">Each line takes the image from the previous line and makes another image</li>
<li class="">Previous image is unchanged</li>
<li class="">It does not edit the state from the previous line</li>
<li class="">You don&#x27;t want large files to span lines or your image will be huge</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="caching-with-each-step">Caching with each step<a href="#caching-with-each-step" class="hash-link" aria-label="Direct link to Caching with each step" title="Direct link to Caching with each step" translate="no">​</a></h3>
<ul>
<li class="">This is important; watch the build output for &quot;using cache&quot;</li>
<li class="">Docker skips lines that have not changed since the last build</li>
<li class="">If your first line is &quot;download latest file&quot;, it may not always run</li>
<li class="">This caching saves huge amounts of time</li>
<li class="">The parts that change the must belong at the end of the Dockerfile</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="not-shell-scripts">Not Shell Scripts<a href="#not-shell-scripts" class="hash-link" aria-label="Direct link to Not Shell Scripts" title="Direct link to Not Shell Scripts" translate="no">​</a></h3>
<ul>
<li class="">Dockerfiles look like shell scripts but they are not shell scripts</li>
<li class="">Processes you start on one line will not be running on the next line</li>
<li class="">Environment variables persit on the next line. If you use ENV command, <strong>remember that each line is its own call to docker run</strong></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="building-docker-file">Building Docker File<a href="#building-docker-file" class="hash-link" aria-label="Direct link to Building Docker File" title="Direct link to Building Docker File" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-most-basic-dockerfile">The most Basic Dockerfile<a href="#the-most-basic-dockerfile" class="hash-link" aria-label="Direct link to The most Basic Dockerfile" title="Direct link to The most Basic Dockerfile" translate="no">​</a></h4>
<ul>
<li class="">Make a file named Dockerfile with following contents:</li>
</ul>
<pre><p>FROM busybox
RUN echo &quot;building simple docker image.&quot;
CMD echo &quot;Hello Container&quot;</p></pre>
<ul>
<li class="">create Docker image : $ docker build -t hello .</li>
<li class="">test if the container works : docker run --rm hello</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="installing-a-program-with-docker-build">Installing a Program with Docker Build<a href="#installing-a-program-with-docker-build" class="hash-link" aria-label="Direct link to Installing a Program with Docker Build" title="Direct link to Installing a Program with Docker Build" translate="no">​</a></h4>
<ul>
<li class="">Create a Dockerfile with following contents:</li>
</ul>
<pre><p>FROM debian<!-- -->:sid<!-- -->
RUN apt-get -y update
RUN apt-get -y install nano
CMD [&quot;/bin/nano&quot;,&quot;/tmp/notes&quot;]</p></pre>
<ul>
<li class="">build docker image: $ docker build -t example/nanoer .</li>
<li class="">run image : $ docker run --rm -ti example/nanoer</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="adding-a-file-through-docker-build">Adding a File through Docker Build<a href="#adding-a-file-through-docker-build" class="hash-link" aria-label="Direct link to Adding a File through Docker Build" title="Direct link to Adding a File through Docker Build" translate="no">​</a></h4>
<ul>
<li class="">Add the following in the DockerFile</li>
</ul>
<pre><p>FROM example/nanoer
ADD notes.txt /notes.txt
CMD[&quot;/bin/nano&quot;,&quot;notes.txt&quot;]</p></pre>
<ul>
<li class="">$ docker build -t example/notes .</li>
<li class="">$ docker run -ti --rm example/notes</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dockerfile-syntax">DockerFile Syntax<a href="#dockerfile-syntax" class="hash-link" aria-label="Direct link to DockerFile Syntax" title="Direct link to DockerFile Syntax" translate="no">​</a></h3>
<ol>
<li class="">
<p>FROM</p>
<ol>
<li class="">which image to download and start from</li>
<li class="">must be the first command</li>
</ol>
</li>
<li class="">
<p>MAINTAINER</p>
<ol>
<li class="">author of this dockerfile</li>
<li class="">MAINTAINER Firstname Lastname <a href="mailto:email@example.com" target="_blank" rel="noopener noreferrer" class="">email@example.com</a></li>
</ol>
</li>
<li class="">
<p>RUN</p>
<ol>
<li class="">runs the command line, waits for it to finish, and saves the result.</li>
</ol>
</li>
<li class="">
<p>ADD</p>
<ol>
<li class="">adds local files : Add run.sh /run.sh</li>
<li class="">adds the contents of tar archices : ADD project.tar.gz /install/</li>
<li class="">works with URLs : ADD <a href="https://abc.example.com/download/1.0/project.rum/project/" target="_blank" rel="noopener noreferrer" class="">https://abc.example.com/download/1.0/project.rum/project/</a></li>
</ol>
</li>
<li class="">
<p>ENV</p>
<ol>
<li class="">Sets env. varibales</li>
<li class="">during the build and when running the result : ENV DB_HOST=db.production.example.com</li>
</ol>
</li>
<li class="">
<p>ENTRYPOINT and CMD</p>
<ol>
<li class="">ENTRYPOINT specifies the start of the command to run</li>
<li class="">CMD specifies the whole command to run</li>
<li class="">CMD sets the program to run when the container starts.</li>
</ol>
</li>
<li class="">
<p>EXPOSE</p>
<ol>
<li class="">maps a port into the container : EXPOSE 8080</li>
</ol>
</li>
<li class="">
<p>VOLUME</p>
<ol>
<li class="">defines shared or ephemeral volumes :
VOLUME [&quot;/host/pasth/&quot; &quot;/container/path/&quot;]
VOLUME [&quot;/shared-data&quot;]</li>
<li class="">avoid defining shared folders in Dockerfiles</li>
</ol>
</li>
<li class="">
<p>WORKDIR</p>
<ol>
<li class="">Sets the directory the container starts in : WORKDIR /test/</li>
<li class="">changes directories both for the rest of the Docker file, and in the finished image</li>
</ol>
</li>
<li class="">
<p>USER : sets which user the container will run as : USER arthur , USER 1000</p>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-project-docker-file">Multi-project Docker File<a href="#multi-project-docker-file" class="hash-link" aria-label="Direct link to Multi-project Docker File" title="Direct link to Multi-project Docker File" translate="no">​</a></h3>
<ol>
<li class="">Create the docker file with following contents and build image.</li>
</ol>
<pre><p>FROM ubuntu:16.04
RUN apt-get update
RUN apt-get -y install curl
RUN curl <a href="https://google.com" target="_blank" rel="noopener noreferrer" class="">https://google.com</a> | wc -c &gt; google-size
ENTRYPOINT echo google is this big; cat google-size</p></pre>
<ol start="2">
<li class="">Split the docker file into 2 parts which reduces drastically the image size</li>
</ol>
<pre><p>FROM ubuntu:16.04 as builder
RUN apt-get update
RUN apt-get -y install curl
RUN curl <a href="https://google.com" target="_blank" rel="noopener noreferrer" class="">https://google.com</a> | wc -c &gt; google-size</p><p>FROM alpine
COPY --from=builder /google-size /google-size
ENTRYPOINT echo google is this big; cat google-size</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="avoid-golden-images">Avoid golden images<a href="#avoid-golden-images" class="hash-link" aria-label="Direct link to Avoid golden images" title="Direct link to Avoid golden images" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="prevent-the-golden-image-problem">Prevent the golden image problem<a href="#prevent-the-golden-image-problem" class="hash-link" aria-label="Direct link to Prevent the golden image problem" title="Direct link to Prevent the golden image problem" translate="no">​</a></h4>
<ul>
<li class="">Install installers in your project</li>
<li class="">Have a canonical build that builds everything completely from the scratch.</li>
<li class="">Tag your builds with the git hash of the code that built it</li>
<li class="">Use small base images, such as Alpine</li>
<li class="">Build images you share publicly from Dockerfiles, always</li>
<li class="">Dont Leave Password in the deep layer.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="note-1">Note<a href="#note-1" class="hash-link" aria-label="Direct link to Note" title="Direct link to Note" translate="no">​</a></h3>
<p>Include the parts of the code that you have changed the most at the end of your Dockerfile, so the parts before them do not need to be redone every time you change that part.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="note-2">Note<a href="#note-2" class="hash-link" aria-label="Direct link to Note" title="Direct link to Note" translate="no">​</a></h3>
<p>The <code>FROM</code> statement must be the first line in a Dockerfile, and specifies the image to download and start with.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-under-the-hood">4. Under the hood<a href="#4-under-the-hood" class="hash-link" aria-label="Direct link to 4. Under the hood" title="Direct link to 4. Under the hood" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-kernels-do">What Kernels Do?<a href="#what-kernels-do" class="hash-link" aria-label="Direct link to What Kernels Do?" title="Direct link to What Kernels Do?" translate="no">​</a></h3>
<ul>
<li class="">Respond to messages from the hardware</li>
<li class="">Start and schedule programs</li>
<li class="">Control and organize storage</li>
<li class="">Pass messages between programs</li>
<li class="">Allocates resources, memory, CPU, network and so on</li>
<li class="">Create containers by Docker configuring the kernel</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-docker-does">What Docker Does?<a href="#what-docker-does" class="hash-link" aria-label="Direct link to What Docker Does?" title="Direct link to What Docker Does?" translate="no">​</a></h3>
<ul>
<li class="">Program written in Go - an upcoming systems language</li>
<li class="">Manage kernel Features
Uses &quot;cgroups&quot; to contain processes
Uses &quot;namespaces&quot; to contain networks
Uses &quot;copy-on-write&quot; filesystems to build images</li>
<li class="">Used for years before Docker</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-docker-really-does">What Docker Really Does?<a href="#what-docker-really-does" class="hash-link" aria-label="Direct link to What Docker Really Does?" title="Direct link to What Docker Really Does?" translate="no">​</a></h3>
<ul>
<li class="">Makes scripting distributed systems &quot;easy&quot;</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-docker-control-socket">The Docker Control Socket<a href="#the-docker-control-socket" class="hash-link" aria-label="Direct link to The Docker Control Socket" title="Direct link to The Docker Control Socket" translate="no">​</a></h3>
<ul>
<li class="">Docker is two programs: a client and a server</li>
<li class="">The server receives commands over a socket (either over a network or through a &quot;file&quot;)</li>
<li class="">The client can even run inside docker itself.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="networking-and-namespaces">Networking and namespaces<a href="#networking-and-namespaces" class="hash-link" aria-label="Direct link to Networking and namespaces" title="Direct link to Networking and namespaces" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="networking-in-brief">Networking in Brief<a href="#networking-in-brief" class="hash-link" aria-label="Direct link to Networking in Brief" title="Direct link to Networking in Brief" translate="no">​</a></h4>
<ul>
<li class="">Ethernet: moves &quot;frames&quot; on a wire (or Wi-Fi)</li>
<li class="">IP Layer : move packets on a local network</li>
<li class="">Routing : forwads packets between networks</li>
<li class="">Ports : addresses particular programs on a computer</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bridging">Bridging<a href="#bridging" class="hash-link" aria-label="Direct link to Bridging" title="Direct link to Bridging" translate="no">​</a></h4>
<ul>
<li class="">Docker uses bridges to create virtual networks in your computer</li>
<li class="">These are software switches</li>
<li class="">They control the Ethernet Layer</li>
<li class="">You can turn off this protection with
<pre>$ docker run --net=host options image-name command</pre></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="routing">Routing<a href="#routing" class="hash-link" aria-label="Direct link to Routing" title="Direct link to Routing" translate="no">​</a></h3>
<ul>
<li class="">creates &quot;firewall&quot; rules to move packets between networks</li>
<li class="">NAT (Network Address Translation)</li>
<li class="">Change the source address on the way out</li>
<li class="">Change the destination address on the way back in</li>
<li class="">&quot;Exposing&quot; a port is really &quot;port forwarding&quot;</li>
</ul>
<pre><p>$ docker run -ti --rm --net=host --privileged=true ubuntu bash
root@efjas544:/# apt-get update &amp;&amp; apt-get install iptables
root@efjas544:/# iptables -n -L -t nat</p><p>// start next container
$ docker run -ti --rm -p 8080:8080 ubuntu bash</p><p>//run the iptables in previous container.
root@efjas544:/# iptables -n -L -t nat</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="namespacees">Namespacees<a href="#namespacees" class="hash-link" aria-label="Direct link to Namespacees" title="Direct link to Namespacees" translate="no">​</a></h3>
<ul>
<li class="">They allow processes to be attached to private network segments</li>
<li class="">These private networks are bridged into a shared network with the rest of the containers</li>
<li class="">Containers have virtual network &quot;cards&quot;</li>
<li class="">Containers get their own copy of the networking stack</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="processes-and-cgroups">Processes and cgroups<a href="#processes-and-cgroups" class="hash-link" aria-label="Direct link to Processes and cgroups" title="Direct link to Processes and cgroups" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="primer-on-linux-processes">Primer on Linux Processes<a href="#primer-on-linux-processes" class="hash-link" aria-label="Direct link to Primer on Linux Processes" title="Direct link to Primer on Linux Processes" translate="no">​</a></h4>
<ul>
<li class="">
<p>Processes come from othe processes -- parent-chile realtionship</p>
</li>
<li class="">
<p>When a child process exits, it returns an exit code to its parents</p>
</li>
<li class="">
<p>Process Zero is special called <em>init</em>, the process that starts the rest</p>
</li>
<li class="">
<p>In Docker, container starts with an init process and vanishes when that process exits</p>
</li>
</ul>
<pre><p>$ docker run -ti --rm --name hello ubuntu bash
root@gfg9890:/#</p><p>$ docker inspect --format &#x27;&#x27; hello   // gives out processes id of hello
$ docker run -ti --rm --privileged=true --pid=host ubuntu bash
root@dfaf54546:/# kill [pid]</p></pre>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resource-limiting">Resource Limiting<a href="#resource-limiting" class="hash-link" aria-label="Direct link to Resource Limiting" title="Direct link to Resource Limiting" translate="no">​</a></h4>
<ul>
<li class="">Scheduling CPU time</li>
<li class="">Memory Allocation limits</li>
<li class="">Inherited Limitations and quotas</li>
<li class="">Can&#x27;t escape limits by stating processes</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Direct link to Storage" title="Direct link to Storage" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="unix-storage-in-brief">Unix Storage in brief<a href="#unix-storage-in-brief" class="hash-link" aria-label="Direct link to Unix Storage in brief" title="Direct link to Unix Storage in brief" translate="no">​</a></h4>
<ul>
<li class="">Actual storage devices</li>
<li class="">Logical storage devices</li>
<li class="">Filesystems</li>
<li class="">FUSE filesystems and network filesystems</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="note-3">Note<a href="#note-3" class="hash-link" aria-label="Direct link to Note" title="Direct link to Note" translate="no">​</a></h3>
<p>The secret of Docker and all of its images : Copy On Write (COWs)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moving-cows">Moving Cows<a href="#moving-cows" class="hash-link" aria-label="Direct link to Moving Cows" title="Direct link to Moving Cows" translate="no">​</a></h4>
<ul>
<li class="">The contents of layers are moved between containers in gzip files.</li>
<li class="">Containers are independent of the storage engine</li>
<li class="">Any container an be loaded(almost) anywhere</li>
<li class="">It is possible to run out of layers on some of the storage engines</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="volumes-and-bind-mounting">Volumes and Bind Mounting<a href="#volumes-and-bind-mounting" class="hash-link" aria-label="Direct link to Volumes and Bind Mounting" title="Direct link to Volumes and Bind Mounting" translate="no">​</a></h4>
<ul>
<li class="">The Linux VFS(Virutal File System)</li>
<li class="">Mounting devices on the VFS</li>
<li class="">Mounting directories on the VFS</li>
<li class="">Getting the mount order correct : The mount order must be correct; in order to mount a folder and then a file within that folder, you have to do it in this specific order.</li>
<li class="">Mounting volumes -- always mounts the host&#x27;s filesystem over the guest</li>
</ul>
<pre><p>$ docker run -ti --rm --privileged=true ubuntu bash
root@gjsg8787jkj:/# mkdir example
root@gjsg8787jkj:/# cd example
root@gjsg8787jkj:/example# ls
root@gjsg8787jkj:/example# mkdir work
root@gjsg8787jkj:/example/# cd work
root@gjsg8787jkj:/example/work#  touch a b c d e f
root@gjsg8787jkj:/example/work# ls
root@gjsg8787jkj:/example/work# cd ..
root@gjsg8787jkj:/example# mkdir other-work
root@gjsg8787jkj:/example# cd other-work
root@gjsg8787jkj:/example/other-work# touch other-a other-b other-c other-d
root@gjsg8787jkj:/example/other-work# ls
root@gjsg8787jkj:/example/other-work# cd ..
root@gjsg8787jkj:/example# ls -R
root@gjsg8787jkj:/example# mount -o bind other-work work
root@gjsg8787jkj:/example# ls -R
root@gjsg8787jkj:/example# umount work
root@gjsg8787jkj:/exaple# ls -R</p></pre>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-orchestration-building-systems-with-docker">5. Orchestration: Building Systems with Docker<a href="#5-orchestration-building-systems-with-docker" class="hash-link" aria-label="Direct link to 5. Orchestration: Building Systems with Docker" title="Direct link to 5. Orchestration: Building Systems with Docker" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="registries-in-detail">Registries in Detail<a href="#registries-in-detail" class="hash-link" aria-label="Direct link to Registries in Detail" title="Direct link to Registries in Detail" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-docker-registry">What is Docker Registry?<a href="#what-is-docker-registry" class="hash-link" aria-label="Direct link to What is Docker Registry?" title="Direct link to What is Docker Registry?" translate="no">​</a></h4>
<ul>
<li class="">Is a program</li>
<li class="">Stores layers and images</li>
<li class="">Listens on (usually) port 5000</li>
<li class="">Maintains an index and searches tags</li>
<li class="">Authorizes and authenticates connections (sometimes)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="popular-docker-registry-programs">Popular Docker Registry Programs<a href="#popular-docker-registry-programs" class="hash-link" aria-label="Direct link to Popular Docker Registry Programs" title="Direct link to Popular Docker Registry Programs" translate="no">​</a></h4>
<ul>
<li class="">The official Python Docker Registry</li>
<li class="">Nexus</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="saving-and-loading-containers">Saving and Loading Containers<a href="#saving-and-loading-containers" class="hash-link" aria-label="Direct link to Saving and Loading Containers" title="Direct link to Saving and Loading Containers" translate="no">​</a></h4>
<ul>
<li class="">docker save</li>
<li class="">docker load</li>
<li class="">Migrating between storage types</li>
<li class="">Shipping images on disks</li>
</ul>
<pre><p>// saves images in tar file
$ docker save -o [file_name].tar.gz imageName<!-- -->:tag<!-- --> imageName1<!-- -->:tag<!-- -->
$ docker rmi imageName<!-- -->:tag<!-- --> imageName<!-- -->:tag<!-- -->
$ docker load -i [file_name].tar.gz</p></pre>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="intro-to-orchestration">Intro to Orchestration<a href="#intro-to-orchestration" class="hash-link" aria-label="Direct link to Intro to Orchestration" title="Direct link to Intro to Orchestration" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="one-container--one-hand-clapping">One Container = One Hand Clapping<a href="#one-container--one-hand-clapping" class="hash-link" aria-label="Direct link to One Container = One Hand Clapping" title="Direct link to One Container = One Hand Clapping" translate="no">​</a></h4>
<ul>
<li class="">Many orchestriation systems for Docker</li>
<li class="">Start containers--and restart them if they fail</li>
<li class="">Service discovery--allow them to find each other</li>
<li class="">Resource allocation--match containers to computers</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-compose">Docker Compose<a href="#docker-compose" class="hash-link" aria-label="Direct link to Docker Compose" title="Direct link to Docker Compose" translate="no">​</a></h4>
<ul>
<li class="">Single machine coordination</li>
<li class="">Designed for testing and development</li>
<li class="">Brings up all your containers, volumes, networks, etc.., with one command</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Direct link to Kubernetes" title="Direct link to Kubernetes" translate="no">​</a></h4>
<ul>
<li class="">Containers run programs</li>
<li class="">Pods group containers together</li>
<li class="">Services make pods available to others</li>
<li class="">Labels are used for very advanced service discovery</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="advantages-of-kubernetes">Advantages of Kubernetes<a href="#advantages-of-kubernetes" class="hash-link" aria-label="Direct link to Advantages of Kubernetes" title="Direct link to Advantages of Kubernetes" translate="no">​</a></h4>
<ul>
<li class="">Makes scripting large operations possible with the <code>kubectl</code> command</li>
<li class="">Very flexible overlay networking</li>
<li class="">Runs equally well on your hardware or a cloud provider</li>
<li class="">Build-in service discovery</li>
<li class="">Get started at <a href="http://kubernetes.io/" target="_blank" rel="noopener noreferrer" class="">http://kubernetes.io/</a></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ec2-container-serviceecs">EC2 Container Service(ECS)<a href="#ec2-container-serviceecs" class="hash-link" aria-label="Direct link to EC2 Container Service(ECS)" title="Direct link to EC2 Container Service(ECS)" translate="no">​</a></h4>
<ul>
<li class="">Task Definitions
Define a set of containers that always run together</li>
<li class="">Tasks
Actually makes a container run right now</li>
<li class="">Services and expose it to the Net
Ensures that a task is running all the time</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="advantages-of-ecs">Advantages of ECS<a href="#advantages-of-ecs" class="hash-link" aria-label="Direct link to Advantages of ECS" title="Direct link to Advantages of ECS" translate="no">​</a></h4>
<ul>
<li class="">Connects load balancers(ELBs) to services</li>
<li class="">Can create your own host instances in AWS</li>
<li class="">Make your instances start the agent and join the cluster</li>
<li class="">Pass the docker control socket into the agent</li>
<li class="">Provides docker repos- and it&#x27;s easy to run your own repo</li>
<li class="">Note that containers(tasks) can be part of CloudFormation stacks!</li>
<li class="">Get started at <a href="https://aws.amazon.com/ecs" target="_blank" rel="noopener noreferrer" class="">https://aws.amazon.com/ecs</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-whats-next">6. What&#x27;s Next?<a href="#6-whats-next" class="hash-link" aria-label="Direct link to 6. What&#x27;s Next?" title="Direct link to 6. What&#x27;s Next?" translate="no">​</a></h2>
<ul>
<li class="">Kubernetes in AWS (AWS EKS)</li>
<li class="">Google Kubernetes Engine</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/cloud--devops"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cloud &amp; DevOps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/DevOps/devops-intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cloud &amp; DevOps — Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-what-is-docker" class="table-of-contents__link toc-highlight">1. What is Docker?</a></li><li><a href="#2-using-docker" class="table-of-contents__link toc-highlight">2. Using Docker</a><ul><li><a href="#manage-containers" class="table-of-contents__link toc-highlight">Manage Containers</a></li><li><a href="#stopping-and-removing-containers" class="table-of-contents__link toc-highlight">Stopping and Removing Containers</a></li><li><a href="#resource-constraints" class="table-of-contents__link toc-highlight">Resource Constraints</a></li><li><a href="#note" class="table-of-contents__link toc-highlight">Note</a></li><li><a href="#container-networking" class="table-of-contents__link toc-highlight">Container Networking</a></li></ul></li><li><a href="#3-building-docker-images" class="table-of-contents__link toc-highlight">3. Building Docker Images</a><ul><li><a href="#what-is-dockerfile" class="table-of-contents__link toc-highlight">What is DockerFile?</a></li><li><a href="#caching-with-each-step" class="table-of-contents__link toc-highlight">Caching with each step</a></li><li><a href="#not-shell-scripts" class="table-of-contents__link toc-highlight">Not Shell Scripts</a></li><li><a href="#building-docker-file" class="table-of-contents__link toc-highlight">Building Docker File</a></li><li><a href="#dockerfile-syntax" class="table-of-contents__link toc-highlight">DockerFile Syntax</a></li><li><a href="#multi-project-docker-file" class="table-of-contents__link toc-highlight">Multi-project Docker File</a></li><li><a href="#avoid-golden-images" class="table-of-contents__link toc-highlight">Avoid golden images</a></li><li><a href="#note-1" class="table-of-contents__link toc-highlight">Note</a></li><li><a href="#note-2" class="table-of-contents__link toc-highlight">Note</a></li></ul></li><li><a href="#4-under-the-hood" class="table-of-contents__link toc-highlight">4. Under the hood</a><ul><li><a href="#what-kernels-do" class="table-of-contents__link toc-highlight">What Kernels Do?</a></li><li><a href="#what-docker-does" class="table-of-contents__link toc-highlight">What Docker Does?</a></li><li><a href="#what-docker-really-does" class="table-of-contents__link toc-highlight">What Docker Really Does?</a></li><li><a href="#the-docker-control-socket" class="table-of-contents__link toc-highlight">The Docker Control Socket</a></li><li><a href="#networking-and-namespaces" class="table-of-contents__link toc-highlight">Networking and namespaces</a></li><li><a href="#routing" class="table-of-contents__link toc-highlight">Routing</a></li><li><a href="#namespacees" class="table-of-contents__link toc-highlight">Namespacees</a></li><li><a href="#processes-and-cgroups" class="table-of-contents__link toc-highlight">Processes and cgroups</a></li><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a></li><li><a href="#note-3" class="table-of-contents__link toc-highlight">Note</a></li></ul></li><li><a href="#5-orchestration-building-systems-with-docker" class="table-of-contents__link toc-highlight">5. Orchestration: Building Systems with Docker</a><ul><li><a href="#registries-in-detail" class="table-of-contents__link toc-highlight">Registries in Detail</a></li><li><a href="#intro-to-orchestration" class="table-of-contents__link toc-highlight">Intro to Orchestration</a></li></ul></li><li><a href="#6-whats-next" class="table-of-contents__link toc-highlight">6. What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer" style="border-top:1px solid var(--ifm-color-divider)"><div style="padding:1.25rem 1rem;text-align:center;font-size:0.95rem;color:var(--ifm-color-foreground);background:var(--ifm-color-primary-50)"><div style="transition:opacity 600ms ease-in-out, transform 600ms ease-in-out;opacity:1;transform:translateY(0);display:inline-block;max-width:900px;padding:0.4rem 1rem;border-radius:6px;background:transparent" aria-live="polite"><div style="font-style:italic;margin:0 0 0.25rem 0;line-height:1.35">“<!-- -->Every calculation made by a machine counts toward progress.<!-- -->”</div><div style="font-weight:600;font-size:0.9rem;color:var(--ifm-color-primary-700)">— <!-- -->Katherine Johnson</div></div><div style="margin-top:0.6rem;font-size:0.85rem;color:var(--ifm-color-muted)">Copyright © <!-- -->2026</div></div></footer></div>
</body>
</html>